(function(){"use strict";var t={4154:function(t,n,e){var o=e(9963),a=e(6252);function i(t,n){const e=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(e)}var r=e(3744);const s={},u=(0,r.Z)(s,[["render",i]]);var l=u,c=e(2201);const d={class:"home"},h={class:"home_button"},f={class:"home_button"};function p(t,n,e,o,i,r){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",h,[(0,a._)("div",{onClick:n[0]||(n[0]=(...t)=>r.moveToCreate&&r.moveToCreate(...t))},"アノテーション作成")]),(0,a._)("div",f,[(0,a._)("div",{onClick:n[1]||(n[1]=(...t)=>r.moveToShow&&r.moveToShow(...t))},"アノテーション編集")])])}e(7658);var v={data(){return{}},methods:{moveToCreate(){this.$router.push({path:"/create"})},moveToShow(){this.$router.push({path:"/show"})}}};const m=(0,r.Z)(v,[["render",p],["__scopeId","data-v-7bad60ae"]]);var _=m,b=e(3577);const g=(0,a._)("h3",null,"アノテーションを作成",-1),w={class:"form"},y=(0,a._)("div",null,"アノテーション名",-1),k={key:0},C=["disabled"],T={key:1};function j(t,n,e,i,r,s){return(0,a.wg)(),(0,a.iD)("div",null,[g,(0,a._)("section",w,[(0,a._)("div",null,[y,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>r.annotation_name=t)},null,512),[[o.nr,r.annotation_name]])]),(0,a._)("input",{type:"file",name:"",id:"",onChange:n[1]||(n[1]=(...t)=>s.onFileChange&&s.onFileChange(...t))},null,32),(0,a._)("button",{onClick:n[2]||(n[2]=(...t)=>s.save&&s.save(...t))},"送信")]),r.annotation_id?((0,a.wg)(),(0,a.iD)("div",k," あなたのアノテーションIDは"+(0,b.zw)(r.annotation_id),1)):(0,a.kq)("",!0),(0,a._)("button",{onClick:n[3]||(n[3]=(...t)=>s.backToHome&&s.backToHome(...t)),disabled:r.isSaving},"メニューへ戻る",8,C),r.error?((0,a.wg)(),(0,a.iD)("div",T,"エラー")):(0,a.kq)("",!0)])}var O=e(8433);const S="http://127.0.0.1:5000";var D={data(){return{uploaded_file:null,annotation_name:"",file:null,isSaving:!1,annotation_id:null,error:!1,error_msg:""}},methods:{async onFileChange(t){let n=t.target.files[0];this.file=n,this.createFile(n)},async createFile(t){var n=new FileReader;n.onload=t=>{this.uploaded_file=t.target.result},n.readAsDataURL(t)},async save(){this.isSaving=!0;const t=new FormData;t.append("file",this.uploaded_file),t.append("title",this.annotation_name);try{const n=await O.Z.post(S+"/api/reg_file",t,{headers:{"Content-Type":"multipart/form-data"}});this.annotation_id=n.data}catch(n){this.error=!0}finally{this.isSaving=!1}},backToHome(){this.$router.push({path:"/"})}}};const A=(0,r.Z)(D,[["render",j]]);var F=A;const Z=(0,a._)("h3",null,"アノテーション一覧",-1),E={class:"table"},x={border:"1"},P=(0,a._)("tr",null,[(0,a._)("td"),(0,a._)("td",null,"作成日"),(0,a._)("td",null,"名前"),(0,a._)("td",null,[(0,a._)("div",null,"編集")])],-1),z=["onClick"];function L(t,n,e,o,i,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,[Z,(0,a._)("div",E,[(0,a._)("table",x,[P,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.annotation_list,((t,n)=>((0,a.wg)(),(0,a.iD)("tr",{key:n},[(0,a._)("td",null,(0,b.zw)(n),1),(0,a._)("td",null,(0,b.zw)(t.generated_time),1),(0,a._)("td",null,(0,b.zw)(t.annotation_name),1),(0,a._)("td",null,[(0,a._)("button",{onClick:n=>r.moveToEdit(t.annotation_id)}," 編集 ",8,z)])])))),128))])])])])}const N="https://dr832vdhbi.execute-api.us-east-1.amazonaws.com/prod/";var $={data(){return{annotation_list:[],error:!1}},methods:{async getAllAnotation(){try{const t=await O.Z.get(N+"annotation");this.annotation_list=JSON.parse(t.data.annotation_table_data)}catch(t){console.log(t),this.error=!0}},moveToEdit(t){this.$router.push({path:"/edit/"+t})}},async created(){await this.getAllAnotation(),console.log(typeof this.annotation_list)},computed:{showArray(){const t=this.annotation_list.length>50?50:this.annotation_list.length-1,n=this.annotation_list.slice(0,t);return n}}};const H=(0,r.Z)($,[["render",L]]);var J=H;function q(t,n,e,o,i,r){return(0,a.wg)(),(0,a.iD)("div")}const I="https://dr832vdhbi.execute-api.us-east-1.amazonaws.com/prod/";O.Z.defaults.headers.common["Content-Type"]="application/json";var M={data(){return{id:"",jobList:[]}},methods:{async getJob(t){const n=await O.Z.get(I+"job/?annotation_id="+t);this.jobList=JSON.parse(n)}},async created(){const t=this.$route.params.annotation_id;await this.getJob(t)}};const R=(0,r.Z)(M,[["render",q]]);var U=R;const B=[{path:"/",name:"home",component:_},{path:"/about",name:"about",component:()=>e.e(443).then(e.bind(e,7381))},{path:"/create",name:"create",component:F},{path:"/show",name:"show",component:J},{path:"/edit/:annotation_id",name:"edit",component:U}],K=(0,c.p7)({history:(0,c.PO)("/"),routes:B});var V=K;(0,o.ri)(l).use(V).mount("#app")}},n={};function e(o){var a=n[o];if(void 0!==a)return a.exports;var i=n[o]={exports:{}};return t[o](i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(n,o,a,i){if(!o){var r=1/0;for(c=0;c<t.length;c++){o=t[c][0],a=t[c][1],i=t[c][2];for(var s=!0,u=0;u<o.length;u++)(!1&i||r>=i)&&Object.keys(e.O).every((function(t){return e.O[t](o[u])}))?o.splice(u--,1):(s=!1,i<r&&(r=i));if(s){t.splice(c--,1);var l=a();void 0!==l&&(n=l)}}return n}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[o,a,i]}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,o){return e.f[o](t,n),n}),[]))}}(),function(){e.u=function(t){return"static/js/about.a7aa3aa3.js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={},n="frontend:";e.l=function(o,a,i,r){if(t[o])t[o].push(a);else{var s,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==n+i){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,e.nc&&s.setAttribute("nonce",e.nc),s.setAttribute("data-webpack",n+i),s.src=o),t[o]=[a];var h=function(n,e){s.onerror=s.onload=null,clearTimeout(f);var a=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(t){return t(e)})),n)return n(e)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={143:0};e.f.j=function(n,o){var a=e.o(t,n)?t[n]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise((function(e,o){a=t[n]=[e,o]}));o.push(a[2]=i);var r=e.p+e.u(n),s=new Error,u=function(o){if(e.o(t,n)&&(a=t[n],0!==a&&(t[n]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;s.message="Loading chunk "+n+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,a[1](s)}};e.l(r,u,"chunk-"+n,n)}},e.O.j=function(n){return 0===t[n]};var n=function(n,o){var a,i,r=o[0],s=o[1],u=o[2],l=0;if(r.some((function(n){return 0!==t[n]}))){for(a in s)e.o(s,a)&&(e.m[a]=s[a]);if(u)var c=u(e)}for(n&&n(o);l<r.length;l++)i=r[l],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(4154)}));o=e.O(o)})();
//# sourceMappingURL=app.bdaf43f2.js.map