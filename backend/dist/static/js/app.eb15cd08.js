(function(){"use strict";var t={6936:function(t,n,e){var o=e(9963),i=e(6252);function a(t,n){const e=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(e)}var r=e(3744);const s={},l=(0,r.Z)(s,[["render",a]]);var u=l,c=e(2201);const d={class:"home"},h={class:"home_button"},p={class:"home_button"};function f(t,n,e,o,a,r){return(0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",h,[(0,i._)("div",{onClick:n[0]||(n[0]=(...t)=>r.moveToCreate&&r.moveToCreate(...t))},"アノテーション作成")]),(0,i._)("div",p,[(0,i._)("div",{onClick:n[1]||(n[1]=(...t)=>r.moveToShow&&r.moveToShow(...t))},"アノテーション編集")])])}e(7658);var v={data(){return{}},methods:{moveToCreate(){this.$router.push({path:"/create"})},moveToShow(){this.$router.push({path:"/show"})}}};const m=(0,r.Z)(v,[["render",f],["__scopeId","data-v-7bad60ae"]]);var _=m,b=e(3577);const g=(0,i._)("h3",null,"アノテーションを作成",-1),w={class:"form"},y=(0,i._)("div",null,"アノテーション名",-1),k={key:0},j=["disabled"],C={key:1};function S(t,n,e,a,r,s){return(0,i.wg)(),(0,i.iD)("div",null,[g,(0,i._)("section",w,[(0,i._)("div",null,[y,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>r.annotation_name=t)},null,512),[[o.nr,r.annotation_name]])]),(0,i._)("input",{type:"file",name:"",id:"",onChange:n[1]||(n[1]=(...t)=>s.onFileChange&&s.onFileChange(...t))},null,32),(0,i._)("button",{onClick:n[2]||(n[2]=(...t)=>s.save&&s.save(...t))},"送信")]),r.annotation_id?((0,i.wg)(),(0,i.iD)("div",k," あなたのアノテーションIDは"+(0,b.zw)(r.annotation_id),1)):(0,i.kq)("",!0),(0,i._)("button",{onClick:n[3]||(n[3]=(...t)=>s.backToHome&&s.backToHome(...t)),disabled:r.isSaving},"メニューへ戻る",8,j),r.error?((0,i.wg)(),(0,i.iD)("div",C,"エラー")):(0,i.kq)("",!0)])}var T=e(8433);const O="";var D={data(){return{uploaded_file:null,annotation_name:"",file:null,isSaving:!1,annotation_id:null,error:!1,error_msg:""}},methods:{async onFileChange(t){let n=t.target.files[0];this.file=n,this.createFile(n)},async createFile(t){var n=new FileReader;n.onload=t=>{this.uploaded_file=t.target.result},n.readAsDataURL(t)},async save(){this.isSaving=!0;const t=new FormData;t.append("file",this.uploaded_file),t.append("title",this.annotation_name);try{const n=await T.Z.post(O+"/api/reg_file",t,{headers:{"Content-Type":"multipart/form-data"}});this.annotation_id=n.data}catch(n){this.error=!0}finally{this.isSaving=!1}},backToHome(){this.$router.push({path:"/"})}}};const x=(0,r.Z)(D,[["render",S]]);var A=x;const E=t=>((0,i.dD)("data-v-1ec2f0b8"),t=t(),(0,i.Cn)(),t),Z=E((()=>(0,i._)("h3",null,"アノテーション一覧",-1))),F={class:"table"},z={border:"1"},J=E((()=>(0,i._)("tr",null,[(0,i._)("td"),(0,i._)("td",null,"作成日"),(0,i._)("td",null,"名前"),(0,i._)("td",null,[(0,i._)("div",null,"編集")])],-1))),L=["onClick"];function $(t,n,e,o,a,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[Z,(0,i._)("div",F,[(0,i._)("table",z,[J,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.annotation_list,((t,n)=>((0,i.wg)(),(0,i.iD)("tr",{key:n},[(0,i._)("td",null,(0,b.zw)(n),1),(0,i._)("td",null,(0,b.zw)(t.generated_time),1),(0,i._)("td",null,(0,b.zw)(t.annotation_name),1),(0,i._)("td",null,[(0,i._)("button",{onClick:n=>r.moveToEdit(t.annotation_id)}," 編集 ",8,L)])])))),128))])])])])}const P="https://dr832vdhbi.execute-api.us-east-1.amazonaws.com/prod/";var H={data(){return{annotation_list:[],error:!1}},methods:{async getAllAnotation(){try{const t=await T.Z.get(P+"annotation");this.annotation_list=JSON.parse(t.data.annotation_table_data)}catch(t){console.log(t),this.error=!0}},moveToEdit(t){this.$router.push({path:"/edit/"+t})}},async created(){await this.getAllAnotation(),console.log(typeof this.annotation_list)},computed:{showArray(){const t=this.annotation_list.length>50?50:this.annotation_list.length-1,n=this.annotation_list.slice(0,t);return n}}};const N=(0,r.Z)(H,[["render",$],["__scopeId","data-v-1ec2f0b8"]]);var q=N;const I={key:0,class:"edit_area"},R=["disabled"];function U(t,n,e,o,a,r){const s=(0,i.up)("EditJob");return a.jobList?((0,i.wg)(),(0,i.iD)("div",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.jobList,((t,n)=>((0,i.wg)(),(0,i.iD)("div",{key:n,class:"form"},[(0,i.Wm)(s,{index:n,job:t,onSave:n=>r.getResult(t,n)},null,8,["index","job","onSave"])])))),128)),(0,i._)("button",{onClick:n[0]||(n[0]=(...t)=>r.sendJob&&r.sendJob(...t)),disabled:a.isSending},"送信",8,R)])):(0,i.kq)("",!0)}const V={class:"form"},G=["name"],K=["name"];function M(t,n,e,a,r,s){return(0,i.wg)(),(0,i.iD)("div",V,[(0,i.wy)((0,i._)("input",{type:"radio",name:"check_job"+e.index,value:"0","onUpdate:modelValue":n[0]||(n[0]=t=>r.result_str=t),onClick:n[1]||(n[1]=t=>s.save(0))},null,8,G),[[o.G2,r.result_str]]),(0,i._)("div",null,(0,b.zw)(e.job.content_0),1),(0,i.wy)((0,i._)("input",{type:"radio",name:"check_job"+e.index,value:"1","onUpdate:modelValue":n[2]||(n[2]=t=>r.result_str=t),onClick:n[3]||(n[3]=t=>s.save(1))},null,8,K),[[o.G2,r.result_str]]),(0,i._)("div",null,(0,b.zw)(e.job.content_1),1)])}var Y={props:{index:{type:Number},job:{type:Object}},data(){return{result_str:null}},methods:{save(t){const n=this.result===t?null:t;this.unSelected(t),this.$emit("save",n)},unSelected(t){this.result_str&&this.result_str===`${t}`&&(this.result_str=null)}},computed:{result(){return this.result_str?+this.result_str:null}}};const B=(0,r.Z)(Y,[["render",M],["__scopeId","data-v-7d1c17ef"]]);var W=B;const Q="https://dr832vdhbi.execute-api.us-east-1.amazonaws.com/prod/";var X={components:{EditJob:W},data(){return{jobList:[],isSending:!1}},methods:{getResult(t,n){t.result=n},async getJob(t){const n=await T.Z.get(Q+"job?annotation_id="+t);this.jobList=n.data.response_list},async sendJob(){this.isSending=!0;try{const t=await T.Z.patch(Q+"job",{response_list:this.jobList});console.log(t)}catch(t){alert("エラーが発生しました")}finally{this.isSending=!1}}},async created(){const t=this.$route.params.annotation_id;await this.getJob(t),this.$nextTick((function(){}))}};const tt=(0,r.Z)(X,[["render",U]]);var nt=tt;const et=[{path:"/",name:"home",component:_},{path:"/about",name:"about",component:()=>e.e(443).then(e.bind(e,7381))},{path:"/create",name:"create",component:A},{path:"/show",name:"show",component:q},{path:"/edit/:annotation_id",name:"edit",component:nt}],ot=(0,c.p7)({history:(0,c.PO)("/"),routes:et});var it=ot;(0,o.ri)(u).use(it).mount("#app")}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var a=n[o]={exports:{}};return t[o](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(n,o,i,a){if(!o){var r=1/0;for(c=0;c<t.length;c++){o=t[c][0],i=t[c][1],a=t[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(e.O).every((function(t){return e.O[t](o[l])}))?o.splice(l--,1):(s=!1,a<r&&(r=a));if(s){t.splice(c--,1);var u=i();void 0!==u&&(n=u)}}return n}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[o,i,a]}}(),function(){e.d=function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,o){return e.f[o](t,n),n}),[]))}}(),function(){e.u=function(t){return"static/js/about.d291dbcf.js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={},n="frontend:";e.l=function(o,i,a,r){if(t[o])t[o].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==n+a){s=d;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,e.nc&&s.setAttribute("nonce",e.nc),s.setAttribute("data-webpack",n+a),s.src=o),t[o]=[i];var h=function(n,e){s.onerror=s.onload=null,clearTimeout(p);var i=t[o];if(delete t[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(e)})),n)return n(e)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={143:0};e.f.j=function(n,o){var i=e.o(t,n)?t[n]:void 0;if(0!==i)if(i)o.push(i[2]);else{var a=new Promise((function(e,o){i=t[n]=[e,o]}));o.push(i[2]=a);var r=e.p+e.u(n),s=new Error,l=function(o){if(e.o(t,n)&&(i=t[n],0!==i&&(t[n]=void 0),i)){var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;s.message="Loading chunk "+n+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,i[1](s)}};e.l(r,l,"chunk-"+n,n)}},e.O.j=function(n){return 0===t[n]};var n=function(n,o){var i,a,r=o[0],s=o[1],l=o[2],u=0;if(r.some((function(n){return 0!==t[n]}))){for(i in s)e.o(s,i)&&(e.m[i]=s[i]);if(l)var c=l(e)}for(n&&n(o);u<r.length;u++)a=r[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(6936)}));o=e.O(o)})();
//# sourceMappingURL=app.eb15cd08.js.map